<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AES Encryption/Decryption with QR Codes</title>

    <!-- CryptoJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <!-- QR Code -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>

    <!-- JSQR -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="./assets/css/global.css">
    <link rel="stylesheet" href="./assets/css/alert.css">
    <link rel="stylesheet" href="./assets/css/userPage.css">
    <link rel="stylesheet" href="assets/css/blobAnimation.css">

</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <a href="./index.html">
            <img src="./assets/images/UAQR WHITE LOGO.png" alt="">
        </a>
    </nav>

    <!-- Blob animated background -->
    <div class="blob-outer-container">
        <div class="blob-inner-container">
            <div class="blob"></div>
        </div>
    </div>

    <!-- Main Container -->
    <main class="main-container">
        <h1 class="title">Graduation QR Pass System</h1>
    
        <div class="tabs">
            <div class="tab active" data-tab="register">
                <i class="fa-solid fa-user-plus"></i>
                Register
            </div>
            <div class="tab" data-tab="generate">
                <i class="fa-solid fa-qrcode"></i>
                Generate QR
            </div>
            <div class="tab" data-tab="verify">
                <i class="fa-solid fa-check-circle"></i>
                Verify QR
            </div>
        </div>
    
        <!-- Registration Tab -->
        <div id="register" class="tab-content active">
            <div class="registration-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="studentId">Student ID</label>
                        <input type="number" id="studentId" placeholder="Enter student ID">
                    </div>
                    <div class="form-group">
                        <label for="studentName">Full Name</label>
                        <input type="text" id="studentName" placeholder="Enter full name">
                    </div>
                </div>
    
                <div class="form-group">
                    <label for="registerCourse">Course</label>
                    <select id="registerCourse" class="course-select">
    
                    </select>
                </div>
    
                <button id="registerBtn" class="encrypt-btn">Register Student</button>
    
                <div id="registrationStatus" class="hidden"></div>
            </div>
        </div>
        
        <!-- Generate QR Tab -->
        <div id="generate" class="tab-content">
            <div class="form-group">
                <label for="qrStudentId">Student ID</label>
                <input type="text" id="qrStudentId" placeholder="Enter student ID">
            </div>
    
            <div class="form-group">
                <label for="qrCourse">Course</label>
                <select id="qrCourse" class="course-select">
    
                </select>
            </div>
    
            <button id="generateQrBtn" class="encrypt-btn">Generate QR Pass</button>
    
            <hr>
    
            <div id="qrCodeContainer" class="hidden">
                <div class="qr-border">
                    <h3>Graduation QR Pass</h3>
                    <canvas id="qrCodeCanvas"></canvas>
                    <div class="qr-actions">
                        <button id="downloadBtn" class="download-qr-btn">
                            <i class="fa-solid fa-download"></i>
                            Download QR Code
                        </button>
                    </div>
                </div>
                <p>Present this QR code at the graduation venue for verification</p>
            </div>
        </div>
    
        <!-- Verify QR Tab -->
        <div id="verify" class="tab-content">
            <div class="form-group">
                <label for="verifyCourse">Select Course</label>
                <select id="verifyCourse">
                    <option value="">Select a course</option>
                </select>
            </div>
            
            <div class="decrypt-options">
                <input type="file" id="qrFile" accept="image/*" class="hidden">
                <button class="scan-btn" id="uploadBtn">
                    <i class="fa-solid fa-upload"></i>
                    Upload QR Code
                </button>
            </div>
            
            <div id="verificationResult" class="hidden">
                <div id="verificationMessage"></div>
                <button id="newVerifyBtn" class="primary-btn">
                    <i class="fa-solid fa-qrcode"></i>
                    Verify Another QR Code
                </button>
            </div>
        </div>
    
        <!-- Custom Alert -->
        <div id="customAlert" class="custom-alert">
            <div class="alert-content">
                <span id="alertMessage"></span>
                <button id="alertCloseButton">OK</button>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script type="module" src="./assets/scripts/utils/alert.js"></script>
    <script type="module" src="./assets/scripts/user.js"></script>
</body>
</html>